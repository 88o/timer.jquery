/*! timer.jquery 0.1.0 2014-02-05*/(function(s){var t=function(t,i){var e={action:"start"};this.options=s.extend(e,i),this.$el=s(t),this.secsNum=0,this.minsNum=0,this.hrsNum=0,this.secsStr="0 sec",this.minsStr="",this.hrsStr="",this.timerId=null,this.delay=1e3,this.isTimerRunning=!1,void 0!==this.options.seconds&&(this.hrsNum=Math.floor(this.options.seconds/3600),this.minsNum=Math.floor((this.options.seconds-3600*this.hrsNum)/60),this.secsNum=this.options.seconds-3600*this.hrsNum-60*this.minsNum,this.timeToString())};t.prototype.init=function(){switch(this.elType=this.$el.prop("tagName").toLowerCase(),this.options.action){case"start":this.isTimerRunning||this.startTimer();break;case"pause":this.pauseTimer();break;case"resume":this.isTimerRunning||this.startTimerInterval();break;case"reset":this.secsNum=0,this.minsNum=0,this.hrsNum=0;break;case"get_seconds":return 3600*this.hrsNum+60*this.minsNum+this.secsNum-1}},t.prototype.pauseTimer=function(){clearInterval(this.timerId),this.isTimerRunning=!1},t.prototype.startTimer=function(){this.updateTimerDisplay(),this.incrementTime(),this.startTimerInterval()},t.prototype.startTimerInterval=function(){var s=this;this.timerId=setInterval(function(){s.incrementTime()},this.delay),this.isTimerRunning=!0},t.prototype.updateTimerDisplay=function(){var s;s=0==this.hrsNum?60>this.secsNum&&0==this.minsNum?this.secsStr+" sec":this.minsStr+":"+this.secsStr+" min":this.hrsStr+":"+this.minsStr+":"+this.secsStr,"input"==this.elType||"textarea"==this.elType?this.$el.val(s):this.$el.html(s)},t.prototype.timeToString=function(){this.secsStr=this.minsNum>0&&10>this.secsNum?"0"+this.secsNum:this.secsNum,this.minsStr=this.hrsNum>0&&10>this.minsNum?"0"+this.minsNum:this.minsNum,this.hrsStr=this.hrsNum},t.prototype.incrementTime=function(){this.timeToString(),this.updateTimerDisplay(),this.secsNum++,0==this.secsNum%60&&(this.minsNum++,this.secsNum=0),this.minsNum>59&&0==this.minsNum%60&&(this.hrsNum++,this.minsNum=0)};var i="timer";s.fn[i]=function(s){"string"==typeof s&&(s={action:s}),this.data("plugin_"+i)instanceof t||this.data("plugin_"+i,new t(this,s));var e=this.data("plugin_"+i);return e.options.action=s.action,e.init(),this}})(jQuery);